# Intensity Modulated Display (IMD) for ImageJ/Fiji

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![ImageJ](https://img.shields.io/badge/ImageJ-1.53c%2B-blue.svg)](https://imagej.net/)

FRETæ¯”ç‡ç”»åƒã‚’CFPè¼åº¦ã§è¦æ ¼åŒ–ã—ãŸè¦‹ã‚„ã™ã„ã‚«ãƒ©ãƒ¼è¡¨ç¤ºã«å¤‰æ›ã™ã‚‹ImageJ/Fijiãƒã‚¯ãƒ­ã§ã™ã€‚

![IMD Example](https://via.placeholder.com/800x300/667eea/ffffff?text=IMD+Example+Image)
*Physics LUTã«ã‚ˆã‚‹è¦‹ã‚„ã™ã„ã‚«ãƒ©ãƒ¼è¡¨ç¤ºã¨CFPè¼åº¦ã«ã‚ˆã‚‹æ˜ã‚‹ã•ã®è¦æ ¼åŒ–*

## âœ¨ ä¸»ãªæ©Ÿèƒ½

- ğŸ¯ **ç°¡å˜æ“ä½œ**: ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã§ç”»åƒã‚’é¸æŠã™ã‚‹ã ã‘
- âš¡ **é«˜é€Ÿ**: Test modeã§æœ€åˆã®ãƒ•ãƒ¬ãƒ¼ãƒ ã®ã¿å‡¦ç†ã—ã¦ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿èª¿æ•´
- ğŸ¨ **ç¾ã—ã„å‡ºåŠ›**: Physics LUTã¨CFPè¼åº¦è¦æ ¼åŒ–ã«ã‚ˆã‚‹è¦‹ã‚„ã™ã„è¡¨ç¤º
- ğŸ”§ **å¤šæ©Ÿèƒ½**: ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰æ¸›ç®—ã€Batch modeã€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ä¿å­˜
- ğŸ“Š **æŸ”è»Ÿ**: Stackç”»åƒ/å˜ä¸€ç”»åƒã®ä¸¡æ–¹ã«å¯¾å¿œ

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆ3ã‚¹ãƒ†ãƒƒãƒ—ï¼‰

1. **[Intensity_Modulated_Display.ijm](https://github.com/yourusername/IMD-ImageJ/releases/latest/download/Intensity_Modulated_Display.ijm) ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰**

2. **ImageJ/Fijiã® `plugins/` ãƒ•ã‚©ãƒ«ãƒ€ã«é…ç½®**
   - Windows: `C:\Program Files\ImageJ\plugins\`
   - Mac: `/Applications/ImageJ.app/plugins/`ï¼ˆãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®å†…å®¹ã‚’è¡¨ç¤ºï¼‰
   - Linux: `~/ImageJ/plugins/`

3. **ImageJã‚’å†èµ·å‹•**
   - **Plugins** ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã« "Intensity Modulated Display" ãŒè¡¨ç¤ºã•ã‚Œã¾ã™

### ä½¿ã„æ–¹ï¼ˆ5ã‚¹ãƒ†ãƒƒãƒ—ï¼‰

1. FRETç”»åƒã¨CFPç”»åƒã‚’ImageJã§é–‹ã
2. **Plugins > Intensity Modulated Display** ã‚’å®Ÿè¡Œ
3. ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã§ç”»åƒã¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’è¨­å®š
4. Stackç”»åƒã®å ´åˆã¯ **Test mode** ã§ç´ æ—©ããƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿èª¿æ•´
5. **OK** â†’ å®Œæˆï¼

è©³ã—ãã¯ [QUICKSTART.md](QUICKSTART.md) ã‚’ã”è¦§ãã ã•ã„ã€‚

## ğŸ“‹ å‹•ä½œç’°å¢ƒ

- **ImageJ**: 1.53c ä»¥é™
- **Fiji**: å¯¾å¿œ
- **OS**: Windows, Mac, Linux
- **è¿½åŠ ãƒ—ãƒ©ã‚°ã‚¤ãƒ³**: ä¸è¦

## ğŸ“– æ©Ÿèƒ½è©³ç´°

### Test Modeï¼ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿èª¿æ•´ç”¨ï¼‰
Stackç”»åƒã®æœ€åˆã®ãƒ•ãƒ¬ãƒ¼ãƒ ã®ã¿ã‚’å‡¦ç†ã—ã¦ã€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ç´ æ—©ãèª¿æ•´ã§ãã¾ã™ã€‚
```
âœ“ Test mode ON â†’ ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿èª¿æ•´ â†’ ä¿å­˜
âœ“ Test mode OFF â†’ å…¨ãƒ•ãƒ¬ãƒ¼ãƒ å‡¦ç†
```

### Background Subtraction
Rolling ballã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã«ã‚ˆã‚‹ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰æ¸›ç®—ã‚’è‡ªå‹•å®Ÿè¡Œã€‚
```
Rolling ball radius: 50ï¼ˆç´°èƒã‚µã‚¤ã‚ºã‚ˆã‚Šå¤§ãã„å€¤ã‚’æ¨å¥¨ï¼‰
```

### Batch Mode
ç”»åƒå‡¦ç†ä¸­ã®ä¸­é–“ç”»åƒã‚’éè¡¨ç¤ºã«ã—ã¦ã€é«˜é€ŸåŒ–ã¨ã¡ã‚‰ã¤ãé˜²æ­¢ã€‚

### Parameter Persistence
ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯è‡ªå‹•çš„ã«ä¿å­˜ã•ã‚Œã€æ¬¡å›å®Ÿè¡Œæ™‚ã«èª­ã¿è¾¼ã¾ã‚Œã¾ã™ã€‚
```
ImageJãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª/IMD_parameters.txt
```

## ğŸ“ ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚¬ã‚¤ãƒ‰

| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | èª¬æ˜ | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ | èª¿æ•´ã®ãƒã‚¤ãƒ³ãƒˆ |
|-----------|------|------------|--------------|
| Ratio max/min | FRET/CFPæ¯”ç‡ã®è¡¨ç¤ºç¯„å›² | -1 ï½ 3 | Ratioç”»åƒã®ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ ã‚’ç¢ºèª |
| Donor max/min | CFPè¼åº¦ã®è¦æ ¼åŒ–ç¯„å›² | 0 ï½ 6000 | CFPç”»åƒã®ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ ã‚’ç¢ºèª |
| Rolling ball radius | ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰æ¸›ç®— | 50 | ç´°èƒã‚µã‚¤ã‚ºã‚ˆã‚Šå¤§ãã |

## ğŸ“š ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- **[QUICKSTART.md](QUICKSTART.md)** - 5åˆ†ã§å§‹ã‚ã‚‹ã‚¬ã‚¤ãƒ‰
- **[USER_GUIDE.md](USER_GUIDE.md)** - è©³ç´°ãªä½¿ç”¨æ–¹æ³•
- **[TROUBLESHOOTING.md](TROUBLESHOOTING.md)** - ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
- **[UNINSTALL.md](UNINSTALL.md)** - ã‚¢ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³•
- **[CHANGELOG.md](CHANGELOG.md)** - å¤‰æ›´å±¥æ­´

## ğŸ’¡ ä½¿ç”¨ä¾‹

### åŸºæœ¬çš„ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

```
1. FRET & CFP Stackç”»åƒã‚’é–‹ã
2. Plugins > Intensity Modulated Display
3. âœ“ Test mode ON ã§ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿èª¿æ•´
4. âœ“ Save parameters ã§è¨­å®šä¿å­˜
5. âœ“ Test mode OFF ã§å…¨ãƒ•ãƒ¬ãƒ¼ãƒ å‡¦ç†
```

### ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿èª¿æ•´ã®ã‚³ãƒ„

1. **Ratio range**: FRET/CFPã®å…¸å‹çš„ãªå€¤ã®ç¯„å›²ã«è¨­å®š
2. **Donor range**: CFPã®ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ ã§è¼åº¦åˆ†å¸ƒã‚’ç¢ºèª
3. **Test mode**: 100ãƒ•ãƒ¬ãƒ¼ãƒ ã®Stackã§ã‚‚æ•°ç§’ã§çµæœç¢ºèª

## ğŸ”¬ ç§‘å­¦çš„èƒŒæ™¯

ã“ã®ãƒã‚¯ãƒ­ã¯ã€FRETï¼ˆFÃ¶rster Resonance Energy Transferï¼‰ã‚¤ãƒ¡ãƒ¼ã‚¸ãƒ³ã‚°ã«ãŠã„ã¦ã€æ¯”ç‡ç”»åƒã‚’è¦‹ã‚„ã™ãè¡¨ç¤ºã™ã‚‹ãŸã‚ã®æ‰‹æ³•ã§ã™ã€‚

### ç‰¹å¾´
- **Physics LUT**: æ¯”ç‡å€¤ã‚’ã‚«ãƒ©ãƒ¼ã§è¡¨ç¤ºï¼ˆé’â†’ç·‘â†’é»„â†’èµ¤ï¼‰
- **Intensity Modulation**: CFPè¼åº¦ã§æ˜ã‚‹ã•ã‚’è¦æ ¼åŒ–
- **åˆ©ç‚¹**: ç´°èƒå†…ã®å±€åœ¨ã¨æ´»æ€§ã‚’åŒæ™‚ã«è¦–è¦šåŒ–

## ğŸ“Š å‹•ä½œåŸç†

```
1. FRETç”»åƒã¨CFPç”»åƒã‹ã‚‰æ¯”ç‡ã‚’è¨ˆç®—
2. æ¯”ç‡å€¤ã‚’Physics LUTã§ç–‘ä¼¼ã‚«ãƒ©ãƒ¼åŒ–
3. CFPè¼åº¦ã§æ˜ã‚‹ã•ã‚’è¦æ ¼åŒ–
4. RGBç”»åƒã¨ã—ã¦å‡ºåŠ›
```

## ğŸ¤ è²¢çŒ®

ãƒã‚°å ±å‘Šã€æ©Ÿèƒ½ãƒªã‚¯ã‚¨ã‚¹ãƒˆã€ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æ­“è¿ã—ã¾ã™ï¼

### é–‹ç™ºç’°å¢ƒ

```bash
# ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/yourusername/IMD-ImageJ.git

# ãƒã‚¯ãƒ­ã®ç·¨é›†
# ImageJã®Script Editorã§ç·¨é›†å¯èƒ½
```

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License - è©³ç´°ã¯ [LICENSE](LICENSE) ã‚’ã”è¦§ãã ã•ã„ã€‚

## ğŸ“– å¼•ç”¨

ç ”ç©¶ã§ã“ã®ãƒã‚¯ãƒ­ã‚’ä½¿ç”¨ã•ã‚ŒãŸå ´åˆã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ã«å¼•ç”¨ã—ã¦ãã ã•ã„ï¼š

```
Intensity Modulated Display (IMD) for ImageJ (2024)
GitHub: https://github.com/yourusername/IMD-ImageJ
```

## ğŸ†˜ ã‚µãƒãƒ¼ãƒˆ

- ğŸ’¬ [GitHub Issues](https://github.com/yourusername/IMD-ImageJ/issues) ã§è³ªå•ãƒ»ãƒã‚°å ±å‘Š
- ğŸ“– [Discussions](https://github.com/yourusername/IMD-ImageJ/discussions) ã§ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³
- ğŸ“§ Email: your.email@example.com

## â­ Star History

ã‚‚ã—ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒå½¹ã«ç«‹ã£ãŸã‚‰ã€ãœã²ã‚¹ã‚¿ãƒ¼ã‚’ãŠé¡˜ã„ã—ã¾ã™ï¼

[![Star History Chart](https://api.star-history.com/svg?repos=yourusername/IMD-ImageJ&type=Date)](https://star-history.com/#yourusername/IMD-ImageJ&Date)

## ğŸ‰ æ›´æ–°å±¥æ­´

### v1.0.0 (2024-11-06)
- åˆå›ãƒªãƒªãƒ¼ã‚¹
- ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã«ã‚ˆã‚‹ç”»åƒé¸æŠ
- Test modeå®Ÿè£…
- ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰æ¸›ç®—
- ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ä¿å­˜æ©Ÿèƒ½

è©³ç´°ã¯ [CHANGELOG.md](CHANGELOG.md) ã‚’ã”è¦§ãã ã•ã„ã€‚

---

## ğŸŒŸ è¬è¾

- Developed with assistance from Claude (Anthropic)
- Based on the original IMD macro
- Thanks to all contributors and users

---

**Happy Imaging! ğŸ”¬**

*Version 1.0.0 - November 2024*
